"""–°–æ–∑–¥–∞–Ω–∏–µ API –æ–ø–µ—Ä–∞—Ü–∏–π CRUD

–û–±—Å—É–¥–∏–º, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å API –æ–ø–µ—Ä–∞—Ü–∏–π CRUD (—Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏
—É–¥–∞–ª–µ–Ω–∏–µ) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FastAPI –∏ SQLAlchemy ORM.

–û–ø–µ—Ä–∞—Ü–∏–∏ CRUD ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ª—é–±–æ–º
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, —É–ø—Ä–∞–≤–ª—è–µ–º–æ–º –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, —á—Ç–µ–Ω–∏—è,
–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –í FastAPI —Å SQLAlchemy ORM –º—ã
–º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –º–µ—Ç–æ–¥—ã Python.
‚óè CREATE, –°–æ–∑–¥–∞—Ç—å: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.
‚óè READ, –ß—Ç–µ–Ω–∏–µ: –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
‚óè UPDATE, –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
‚óè DELETE, –£–¥–∞–ª–∏—Ç—å: —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.


–†–∞–±–æ—Ç–∞ —Å –ë–î –≤ CRUD –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å SQLAlchemy –∏ databases

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –≤ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö CRUD —Å SQLAlchemy ORM –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
—Å–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—É—é
–±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø–æ –Ω–∞—à–µ–º—É –≤—ã–±–æ—Ä—É, —Ç–∞–∫—É—é –∫–∞–∫ MySQL, PostgreSQL –∏–ª–∏ SQLite. –ü–æ—Å–ª–µ —Ç–æ–≥–æ,
–∫–∞–∫ –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, –º—ã –º–æ–∂–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ CRUD –≤ –±–∞–∑–µ
–¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—è SQLAlchemy ORM.

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite, –≤ –∫–æ—Ç–æ—Ä–æ–π –º—ã —Å–æ–∑–¥–∞–¥–∏–º
—Ç–∞–±–ª–∏—Ü—É –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º ¬´–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏¬ª. –ú—ã –º–æ–∂–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö,
–∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:"""


import databases
import sqlalchemy
from fastapi import FastAPI
from pydantic import BaseModel
DATABASE_URL = "sqlite:///mydatabase.db"
database = databases.Database(DATABASE_URL)
metadata = sqlalchemy.MetaData()
users = sqlalchemy.Table(
    "users", metadata, sqlalchemy.Column("id", sqlalchemy.Integer, primary_key=True),
    sqlalchemy.Column("name", sqlalchemy.String(32)),
    sqlalchemy.Column("email", sqlalchemy.String(128)),
)

engine = create_engine(DATABASE_URL, connect_args={"check_same_thread": False})
metadata.create_all(engine)


"""üí° –í–Ω–∏–º–∞–Ω–∏–µ! –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é SQLite —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –Ω–∏–º
—Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–º—É –ø–æ—Ç–æ–∫—É, –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—è, —á—Ç–æ –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å
–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∑–∞–ø—Ä–æ—Å. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—â–µ–π (–¥–ª—è
—Ä–∞–∑–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤). –ù–æ –≤ FastAPI –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–±—ã—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (def)
–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –º–æ–≥—É—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏
—Ç–æ–≥–æ –∂–µ –∑–∞–ø—Ä–æ—Å–∞, –ø–æ—ç—Ç–æ–º—É –Ω–∞–º –Ω—É–∂–Ω–æ —Å–æ–æ–±—â–∏—Ç—å SQLite, —á—Ç–æ –æ–Ω –¥–æ–ª–∂–µ–Ω
—Ä–∞–∑—Ä–µ—à–∞—Ç—å —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é connect_args={"check_same_thread": False}."""